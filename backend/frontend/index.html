<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <title>Hexashop - Home Page</title>

    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/templatemo-hexashop.css">
    <link rel="stylesheet" href="assets/css/owl-carousel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css">
    <link rel="stylesheet" href="assets/css/homepage.css">
    
    <style>
        .footer-social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .footer-social-btn:hover {
            background-color: #ffffff;
            color: #2a2a2a;
            border-color: #ffffff;
        }
        .footer-nav a {
            font-weight: 500;
            transition: color 0.3s ease;
        }
        .footer-nav a:hover {
            color: #cccccc !important; text-decoration: underline;
        }
        
    </style>
</head>
    
<body>
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>  
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <a href="index.html" class="logo">
                            <img src="med/logo3.png" alt="Hexashop Logo" class="img-fluid" style="height: 75px; width: auto;">
                        </a>
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="#top" class="active">Home</a></li>
                            <li class="scroll-to-section"><a href="#men">Men</a></li>
                            <li class="scroll-to-section"><a href="#women">Women</a></li>
                            <li class="scroll-to-section"><a href="#kids">Kids</a></li>
                            <li class="submenu">
                                <a href="javascript:;">Pages</a>
                                <ul>
                                    <li><a href="index.html#brands" class="scroll-to-section">Our Brands</a></li>
                                    <li><a href="tracking.html">Tracking/Order history</a></li>
                                    <li><a href="about.html">About Us</a></li>
                                    <li><a href="contact.html">Contact Us</a></li>
                                </ul>
                            </li>
                            <li class="scroll-to-section"><a href="cart.html"><i class="fa fa-shopping-cart"></i> Cart</a></li>
                        </ul>        
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        </nav>
                </div>
            </div>
        </div>
    </header>
    <div class="hero-section" id="top">
        <div class="container-fluid h-100">
            <div class="row h-100">
                <div class="col-lg-6 hero-left">
                    <div class="video-container">
                        <video class="hero-video" autoplay muted loop playsinline>
                            <source src="video/mine001.mp4" type="video/mp4">
                            <source src="video/mine001.webm" type="video/webm">
                            <source src="video/mine001.ogg" type="video/ogg">
                            <img src="assets/images/hero-fallback.jpg" alt="Hexashop Hero" style="width:100%;height:100%;object-fit:cover;">
                        </video>
                    </div>
                    <div class="video-overlay"></div>
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>Welcome to LUX</h1>
        <p class="subtext">Expertly crafted eyewear that enhances both your sight and your style</p>
        <div class="main-border-button">
            <a href="products.html">Find Your Perfect Frames</a>
        </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="category-grid h-100">
                        <div class="category-item">
                            <a href="products.html?category=men" class="category-default-link"></a>
                            <img src="https://i.ibb.co/Z1wFT7G1/men-category.png" alt="Men">
                            <div class="category-overlay">
                                <h4>Men</h4>
                                <p>Professional and casual frames for the modern man</p>
                                <div class="category-options">
                                    <a href="products.html?category=men&type=sunglasses">Sunglasses</a>
                                    <a href="products.html?category=men&type=eyeglasses">Eyeglasses</a>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="products.html?category=women" class="category-default-link"></a>
                            <img src="https://i.ibb.co/B2kWZr3L/women-category.png" alt="Women">
                            <div class="category-overlay">
                                <h4>Women</h4>
                                <p>Elegant frames that complement your style</p>
                            <div class="category-options">
                                    <a href="products.html?category=women&type=sunglasses">Sunglasses</a>
                                    <a href="products.html?category=women&type=eyeglasses">Eyeglasses</a>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="products.html?category=kids" class="category-default-link"></a>
                            <img src="https://i.ibb.co/KxsknpPt/kid-01.png" alt="Kids">
                            <div class="category-overlay">
                                <h4>Kids</h4>
                                <p>Fun, safe, and comfortable for children</p>
                                <div class="category-options">
                                    <a href="products.html?category=kids&type=sunglasses">Sunglasses</a>
                                    <a href="products.html?category=kids&type=eyeglasses">Eyeglasses</a>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
    <a href="index.html#brands" class="category-default-link"></a>
                            <img src="https://i.ibb.co/kVnTbF3r/brands-category.jpg" alt="Our Brands">
                            <div class="category-overlay">
                                <h4>Our Brands</h4>
                                <p>Discover our premium eyewear collections</p>
                                <div class="category-options">
                                    <li><a href="index.html#brands" class="scroll-to-section">Explore Now</a></li> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section class="section" id="men">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="section-heading">
                        <h2>Men's Latest</h2>
                        <span>Experience the perfect blend of style and comfort that you'll love every day.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="men-item-carousel">
                        <div class="owl-men-item owl-carousel" id="menCarousel">
                            </div>
                    </div>
                    <div class="text-center mt-4">
                        <a href="products.html?category=men" class="btn explore-btn">Explore Men Collection</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section" id="women">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="section-heading">
                        <h2>Women's Latest</h2>
                        <span>Details to details is what makes Hexashop different from the other themes.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="women-item-carousel">
                        <div class="owl-women-item owl-carousel" id="womenCarousel">
                            </div>
                    </div>
                    <div class="text-center mt-4">
                        <a href="products.html?category=women" class="btn explore-btn">Explore Women Collection</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section" id="kids">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="section-heading">
                        <h2>Kid's Latest</h2>
                        <span>Details to details is what makes Hexashop different from the other themes.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="kid-item-carousel">
                        <div class="owl-kid-item owl-carousel" id="kidsCarousel">
                            </div>
                    </div>
                    <div class="text-center mt-4">
                        <a href="products.html?category=kids" class="btn explore-btn">Explore Kids Collection</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="brand-slider-section" id="brands">
        <div class="container">
            <div class="row mb-4">
                <div class="col-lg-12 text-center">
                    <div class="section-heading">
                        <h2>Premium Brands</h2>
                        <span>Discover eyewear from the world's most prestigious fashion houses.</span>
                    </div>
                </div>
            </div>
            <div class="logo-cloud-container">
                <div class="logo-track">
                    <a href="products.html?brand=prada" class="brand-link">
                        <img src="https://i.ibb.co/8gtx5796/Prada.png" alt="Prada" class="brand-logo">
                    </a>
                    <a href="products.html?brand=boss" class="brand-link">
                        <img src="https://i.ibb.co/rqqk7sG/Hugo-Boss-Logo.png" alt="Hugo Boss" class="brand-logo">
                    </a>
                    <a href="products.html?brand=rayban" class="brand-link">
                        <img src="https://i.ibb.co/hF8HtV14/final-rayban-logo.png" alt="Ray-Ban" class="brand-logo">
                    </a>
                    <a href="products.html?brand=burberry" class="brand-link">
                        <img src="https://i.ibb.co/MykY1mws/burberry-bl-18.png" alt="BURBERRY" class="brand-logo">
                    </a>
                    <a href="products.html?brand=gucci" class="brand-link">
                        <img src="https://i.ibb.co/Lj7LTmN/Gucci.png" alt="Gucci" class="brand-logo">
                    </a>
                    <a href="products.html?brand=versace" class="brand-link">
                        <img src="https://i.ibb.co/Y471ZBgK/sgh-plp-1-removebg-preview.png" alt="Versace" class="brand-logo">
                    </a>
                    <a href="products.html?brand=oakley" class="brand-link">
                        <img src="https://i.ibb.co/3yQSdW1Z/Oakley-Logo-1997-present.png" alt="Oakley" class="brand-logo">
                    </a>
                    <a href="products.html?brand=polar" class="brand-link">
                        <img src="https://i.ibb.co/9mgf4HtG/Polar.png" alt="Polar" class="brand-logo">
                    </a>

                    <a href="products.html?brand=prada" class="brand-link">
                        <img src="https://i.ibb.co/8gtx5796/Prada.png" alt="Prada" class="brand-logo">
                    </a>
                    <a href="products.html?brand=boss" class="brand-link">
                        <img src="https://i.ibb.co/rqqk7sG/Hugo-Boss-Logo.png" alt="Hugo Boss" class="brand-logo">
                    </a>
                    <a href="products.html?brand=rayban" class="brand-link">
                        <img src="https://i.ibb.co/hF8HtV14/final-rayban-logo.png" alt="Ray-Ban" class="brand-logo">
                    </a>
                    <a href="products.html?brand=marbella" class="brand-link">
                        <img src="https://i.ibb.co/MykY1mws/burberry-bl-18.png" alt="BURBERRY" class="brand-logo">
                    </a>
                    <a href="products.html?brand=gucci" class="brand-link">
                        <img src="https://i.ibb.co/Lj7LTmN/Gucci.png" alt="Gucci" class="brand-logo">
                    </a>
                    <a href="products.html?brand=versace" class="brand-link">
                       <img src="https://i.ibb.co/Y471ZBgK/sgh-plp-1-removebg-preview.png" alt="Versace" class="brand-logo">
                    </a>
                    <a href="products.html?brand=oakley" class="brand-link">
                        <img src="https://i.ibb.co/3yQSdW1Z/Oakley-Logo-1997-present.png" alt="Oakley" class="brand-logo">
                    </a>
                    <a href="products.html?brand=polar" class="brand-link">
                        <img src="https://i.ibb.co/9mgf4HtG/Polar.png" alt="Polar" class="brand-logo">
                    </a>
                </div>
            </div>
        </div>
    </section>
    <section class="section" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-heading">
                        <h2>About Hexashop</h2>
                        <span>Your trusted eyewear destination since 2010</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="left-image">
                        <img src="assets/images/about-left-image.jpg" alt="About Hexashop" class="img-fluid custom-about-img">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="right-content">
                        <h4>Our Story</h4>
                        <span>Quality eyewear for every lifestyle</span>
                        <p>Hexashop was founded with a simple mission: to provide high-quality, stylish eyewear that combines fashion with function. We believe everyone deserves to see clearly and look great doing it.</p>
                        <p>With over a decade of experience, we've curated collections from the world's top eyewear brands while also developing our own exclusive lines that cater to diverse tastes and needs.</p>
                        <div class="main-border-button">
                            <a href="about.html">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer style="background-color: #2a2a2a;" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-12 d-flex flex-column align-items-center">
                    
                    <nav class="footer-nav mb-4 d-flex flex-wrap justify-content-center gap-4">
                        <a href="index.html" class="text-white text-decoration-none px-2">Home</a>
                        <a href="about.html" class="text-white text-decoration-none px-2">About</a>
                        <a href="products.html" class="text-white text-decoration-none px-2">Products</a>
                        <a href="contact.html" class="text-white text-decoration-none px-2">Contact</a>
                    </nav>

                    <div class="mb-4 d-flex gap-3">
                        <a href="#" class="btn btn-outline-light rounded-circle footer-social-btn">
                            <i class="fa-brands fa-facebook-f"></i>
                            <span class="visually-hidden">Facebook</span>
                        </a>
                        <a href="https://www.instagram.com" class="btn btn-outline-light rounded-circle footer-social-btn">
                            <i class="fa-brands fa-instagram"></i>
                            <span class="visually-hidden">Instagram</span>
                        </a>
                        <a href="#" class="btn btn-outline-light rounded-circle footer-social-btn">
                            <i class="fa-brands fa-tiktok"></i>
                            <span class="visually-hidden">Tiktok</span>
                        </a>
                    </div>

                    <div class="text-center">
                        <p class="small text-white-50 mb-0">
                            Copyright Â© 2023 Hexashop Co., Ltd. All Rights Reserved.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="mobile-bottom-nav">
    <a href="index.html" class="nav-item active">
        <svg class="icon icon-home icon-sm" width="20" height="20" viewBox="0 0 20 20" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18.3337 14.1667V10.4538C18.3337 9.09868 18.3337 8.42113 18.1681 7.79394C18.006 7.17971 17.7284 6.602 17.35 6.09172C16.9637 5.57066 16.4346 5.1474 15.3764 4.30088L14.9979 3.99805L14.9979 3.99804C13.2143 2.57117 12.3225 1.85774 11.3335 1.58413C10.4611 1.34279 9.53956 1.34279 8.66717 1.58413C7.67815 1.85774 6.78636 2.57118 5.00277 3.99805L5.00276 3.99805L4.62423 4.30088C3.56607 5.1474 3.037 5.57066 2.65064 6.09172C2.27227 6.602 1.99461 7.17971 1.83251 7.79394C1.66699 8.42113 1.66699 9.09868 1.66699 10.4538V14.1667C1.66699 16.4679 3.53247 18.3333 5.83366 18.3333C6.75413 18.3333 7.50033 17.5871 7.50033 16.6667V13.3333C7.50033 11.9526 8.61961 10.8333 10.0003 10.8333C11.381 10.8333 12.5003 11.9526 12.5003 13.3333V16.6667C12.5003 17.5871 13.2465 18.3333 14.167 18.3333C16.4682 18.3333 18.3337 16.4679 18.3337 14.1667Z"/>
        </svg>
        <span>Home</span>
    </a>
    
    <a href="javascript:void(0);" class="nav-item menu-trigger-bottom">
        <svg class="icon icon-hamburger icon-sm" width="20" height="20" viewBox="0 0 21 20" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.2002 5H18.2002M3.2002 10H9.86686M3.2002 15H14.0335"/>
        </svg>
        <span>Menu</span>
    </a>
    
    <!-- Shop -->
        <a href="products.html" class="nav-item active">
            <svg class="icon icon-grid icon-sm" width="20" height="20" viewBox="0 0 21 20" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M1.7666 4.8665C1.7666 3.7464 1.7666 3.18635 1.98459 2.75852C2.17634 2.3822 2.4823 2.07624 2.85862 1.88449C3.28644 1.6665 3.8465 1.6665 4.9666 1.6665H5.23327C6.35337 1.6665 6.91343 1.6665 7.34125 1.88449C7.71757 2.07624 8.02353 2.3822 8.21528 2.75852C8.43327 3.18635 8.43327 3.7464 8.43327 4.8665V5.13317C8.43327 6.25328 8.43327 6.81333 8.21528 7.24115C8.02353 7.61748 7.71757 7.92344 7.34125 8.11518C6.91343 8.33317 6.35337 8.33317 5.23327 8.33317H4.9666C3.8465 8.33317 3.28644 8.33317 2.85862 8.11518C2.4823 7.92344 2.17634 7.61748 1.98459 7.24115C1.7666 6.81333 1.7666 6.25328 1.7666 5.13317V4.8665Z"/>
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.7666 4.8665C11.7666 3.7464 11.7666 3.18635 11.9846 2.75852C12.1763 2.3822 12.4823 2.07624 12.8586 1.88449C13.2864 1.6665 13.8465 1.6665 14.9666 1.6665H15.2333C16.3534 1.6665 16.9134 1.6665 17.3413 1.88449C17.7176 2.07624 18.0235 2.3822 18.2153 2.75852C18.4333 3.18635 18.4333 3.7464 18.4333 4.8665V5.13317C18.4333 6.25328 18.4333 6.81333 18.2153 7.24115C18.0235 7.61748 17.7176 7.92344 17.3413 8.11518C16.9134 8.33317 16.3534 8.33317 15.2333 8.33317H14.9666C13.8465 8.33317 13.2864 8.33317 12.8586 8.11518C12.4823 7.92344 12.1763 7.61748 11.9846 7.24115C11.7666 6.81333 11.7666 6.25328 11.7666 5.13317V4.8665Z"/>
                <path stroke-linecap="round" stroke-linejoin="round" d="M1.7666 14.8665C1.7666 13.7464 1.7666 13.1863 1.98459 12.7585C2.17634 12.3822 2.4823 12.0762 2.85862 11.8845C3.28644 11.6665 3.8465 11.6665 4.9666 11.6665H5.23327C6.35337 11.6665 6.91343 11.6665 7.34125 11.8845C7.71757 12.0762 8.02353 12.3822 8.21528 12.7585C8.43327 13.1863 8.43327 13.7464 8.43327 14.8665V15.1332C8.43327 16.2533 8.43327 16.8133 8.21528 17.2412C8.02353 17.6175 7.71757 17.9234 7.34125 18.1152C6.91343 18.3332 6.35337 18.3332 5.23327 18.3332H4.9666C3.8465 18.3332 3.28644 18.3332 2.85862 18.1152C2.4823 17.9234 2.17634 17.6175 1.98459 17.2412C1.7666 16.8133 1.7666 16.2533 1.7666 15.1332V14.8665Z"/>
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.7666 14.8665C11.7666 13.7464 11.7666 13.1863 11.9846 12.7585C12.1763 12.3822 12.4823 12.0762 12.8586 11.8845C13.2864 11.6665 13.8465 11.6665 14.9666 11.6665H15.2333C16.3534 11.6665 16.9134 11.6665 17.3413 11.8845C17.7176 12.0762 18.0235 12.3822 18.2153 12.7585C18.4333 13.1863 18.4333 13.7464 18.4333 14.8665V15.1332C18.4333 16.2533 18.4333 16.8133 18.2153 17.2412C18.0235 17.6175 17.7176 17.9234 17.3413 18.1152C16.9134 18.3332 16.3534 18.3332 15.2333 18.3332H14.9666C13.8465 18.3332 13.2864 18.3332 12.8586 18.1152C12.4823 17.9234 12.1763 17.6175 11.9846 17.2412C11.7666 16.8133 11.7666 16.2533 11.7666 15.1332V14.8665Z"/>
            </svg>
            <span>Shop</span>
        </a>
    
    <a href="cart.html" class="nav-item">
    <svg class="icon icon-cart icon-sm" width="20" height="20" viewBox="0 0 20 20" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M1.66667 1.66667H3.33333L5.83333 11.6667H16.6667L18.3333 4.16667H5.83333M5.83333 15.8333C5.83333 16.7538 6.57953 17.5 7.5 17.5C8.42047 17.5 9.16667 16.7538 9.16667 15.8333C9.16667 14.9129 8.42047 14.1667 7.5 14.1667C6.57953 14.1667 5.83333 14.9129 5.83333 15.8333ZM14.1667 15.8333C14.1667 16.7538 14.9129 17.5 15.8333 17.5C16.7538 17.5 17.5 16.7538 17.5 15.8333C17.5 14.9129 16.7538 14.1667 15.8333 14.1667C14.9129 14.1667 14.1667 14.9129 14.1667 15.8333Z"/>
    </svg>
    <span>Cart</span>
</a>

    
    <a href="tracking.html" class="nav-item">
    <svg class="icon icon-tracking icon-sm" width="20" height="20" viewBox="0 0 20 20" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10 18.3333C10 18.3333 17.5 12.5 17.5 8.33333C17.5 4.16667 14.1667 0.833333 10 0.833333C5.83333 0.833333 2.5 4.16667 2.5 8.33333C2.5 12.5 10 18.3333 10 18.3333Z"/>
        <path stroke-linecap="round" stroke-linejoin="round" d="M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z"/>
    </svg>
    <span>Tracking</span>
</a>
</div>



    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/accordions.js"></script>
    <script src="assets/js/datepicker.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script> 
    <script src="assets/js/slick.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>
    <script src="assets/js/isotope.js"></script> 
    
    <script src="assets/js/custom.js"></script>

    <script>
        // API Base URL
        const API_BASE = '/api';

        // Load products for homepage carousels - UPDATED: Only show featured products
        async function loadHomepageProducts() {
    try {
        // Use the new featured endpoint
        const featuredResponse = await fetch(`${API_BASE}/products/featured`);
        const featuredProducts = await featuredResponse.json();
        
        // Filter by category
        const featuredMen = featuredProducts.filter(p => p.model === 'Men');
const featuredWomen = featuredProducts.filter(p => p.model === 'Women');
const featuredKids = featuredProducts.filter(p => p.model === 'Kids');
        
        // Display featured products
        displayProductsInCarousel(featuredMen, 'menCarousel');
        displayProductsInCarousel(featuredWomen, 'womenCarousel');
        displayProductsInCarousel(featuredKids, 'kidsCarousel');

        // If no featured products, show a message
        if (featuredProducts.length === 0) {
            console.log('No featured products found');
            // Optional: Hide the carousels or show a message
        }

    } catch (error) {
        console.error('Error loading featured products:', error);
        // Optional fallback: Load regular products
        try {
            const allProductsResponse = await fetch(`${API_BASE}/products`);
            const allProducts = await allProductsResponse.json();
            
            const menProducts = allProducts.filter(p => p.model === 'Men').slice(0, 6);
            const womenProducts = allProducts.filter(p => p.model === 'Women').slice(0, 6);
            const kidsProducts = allProducts.filter(p => p.model === 'Kids').slice(0, 6);
            
            displayProductsInCarousel(menProducts, 'menCarousel');
            displayProductsInCarousel(womenProducts, 'womenCarousel');
            displayProductsInCarousel(kidsProducts, 'kidsCarousel');
        } catch (fallbackError) {
            console.error('Fallback also failed:', fallbackError);
        }
    }
}

        function displayProductsInCarousel(products, carouselId) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;

            carousel.innerHTML = '';

            products.forEach(product => {
                // Get the first image from the first color for display
                let firstImage = 'assets/images/default-product.jpg'; // default fallback
                if (product.available_colors && product.available_colors.length > 0) {
                    const firstColor = product.available_colors[0];
                    if (firstColor.images && firstColor.images.length > 0) {
                        firstImage = firstColor.images[0];
                    }
                }

                // UPDATED: Price display with discount support
                let priceHTML = '';
                if (product.has_active_discount && product.discount_price) {
                    const discountPercent = Math.round((1 - product.discount_price / product.price) * 100);
                    priceHTML = `
                        <div class="price-container">
                            <span class="original-price">DA ${product.price.toLocaleString()}</span>
                            <span class="discount-price">DA ${product.discount_price.toLocaleString()}</span>
                            <span class="discount-badge">-${discountPercent}%</span>
                        </div>
                    `;
                } else {
                    priceHTML = `<span>DA ${product.price.toLocaleString()}</span>`;
                }

                const productHtml = `
                    <div class="item">
                        <div class="thumb">
                            <div class="hover-content">
                                <ul>
                                    <li><a href="single-product.html?product=${product.id}"><i class="fa fa-eye"></i></a></li>
                                </ul>
                            </div>
                            <img src="${firstImage}" alt="${product.title}">
                        </div>
                        <div class="down-content">
                            <h4>${product.title}</h4>
                            ${priceHTML}
                        </div>
                    </div>
                `;
                
                carousel.innerHTML += productHtml;
            });

            // Initialize carousel after products are loaded
            initializeCarousel(carouselId);
        }

        function initializeCarousel(carouselId) {
            const $carousel = $(`#${carouselId}`);
            
            // Destroy any existing carousel instance
            if ($carousel.data('owl.carousel')) {
                $carousel.trigger('destroy.owl.carousel');
                $carousel.removeClass('owl-loaded owl-hidden');
            }
            
            // Initialize with 3 items per row and centered layout
            $carousel.owlCarousel({
                loop: true,
                margin: 25,
                nav: true,
                dots: false,
                autoplay: false,
                center: false,
                responsive: {
                    0: {
                        items: 1
                    },
                    576: {
                        items: 2
                    },
                    768: {
                        items: 3
                    },
                    992: {
                        items: 3
                    },
                    1200: {
                        items: 3
                    }
                }
            });
        }

        $(document).ready(function() {
            // Load products for homepage
            loadHomepageProducts();

            // Initialize carousels with proper navigation arrows
            setTimeout(() => {
                $('.owl-men-item').owlCarousel({
                    loop: true,
                    margin: 25,
                    nav: true,
                    navText: [
                        '<i class="fa fa-angle-left"></i>',
                        '<i class="fa fa-angle-right"></i>'
                    ],
                    dots: false,
                    autoplay: false,
                    center: false,
                    responsive: {
                        0: {
                            items: 1
                        },
                        576: {
                            items: 2
                        },
                        768: {
                            items: 3
                        },
                        992: {
                            items: 3
                        },
                        1200: {
                            items: 3
                        }
                    }
                });

                $('.owl-women-item').owlCarousel({
                    loop: true,
                    margin: 25,
                    nav: true,
                    navText: [
                        '<i class="fa fa-angle-left"></i>',
                        '<i class="fa fa-angle-right"></i>'
                    ],
                    dots: false,
                    autoplay: false,
                    center: false,
                    responsive: {
                        0: {
                            items: 1
                        },
                        576: {
                            items: 2
                        },
                        768: {
                            items: 3
                        },
                        992: {
                            items: 3
                        },
                        1200: {
                            items: 3
                        }
                    }
                });

                $('.owl-kids-item').owlCarousel({
                    loop: true,
                    margin: 25,
                    nav: true,
                    navText: [
                        '<i class="fa fa-angle-left"></i>',
                        '<i class="fa fa-angle-right"></i>'
                    ],
                    dots: false,
                    autoplay: false,
                    center: false,
                    responsive: {
                        0: {
                            items: 1
                        },
                        576: {
                            items: 2
                        },
                        768: {
                            items: 3
                        },
                        992: {
                            items: 3
                        },
                        1200: {
                            items: 3
                        }
                    }
                });
            }, 100);

            // UPDATED FIX: Mobile Submenu Toggle
        // ---------------------------------------------
        
        // 1. Unbind previous clicks to prevent duplicate events on the link itself
        $('.main-nav .nav li.submenu > a').off('click');
        
        // 2. Attach the new robust handler
        $('.main-nav .nav li.submenu > a').on('click', function(e) {
            // Only apply on mobile
            if ($(window).width() < 992) {
                e.preventDefault(); // Stop the link from navigating
                e.stopPropagation(); // <--- CRITICAL: Stops the "First Click" bug (prevents bubbling to parent/template scripts)
                
                var $subMenu = $(this).siblings('ul');
                
                // 3. use .stop(true, true) to fix "Laggy" feel. 
                // It forces any running animation to finish instantly before starting the next one.
                // 300ms ensures opening and closing are exactly the same speed.
                $subMenu.stop(true, true).slideToggle(300);
            }
        });

            // ---------------------------------------------
        // START OF FIX: Mobile Submenu Toggle Logic
        // ---------------------------------------------
        
        // Unbind any previous events to prevent double-firing
        $('.main-nav .nav li.submenu > a').off('click');
        
        // Add new click event for submenu items
        $('.main-nav .nav li.submenu > a').on('click', function(e) {
            // Only apply this logic on mobile screens
            if ($(window).width() < 992) {
                e.preventDefault(); // Prevent link navigation
                
                // Toggle the submenu (slide up/down)
                $(this).siblings('ul').slideToggle(300);
                
                // Optional: Toggle a class if you want to rotate an arrow icon
                $(this).parent().toggleClass('active');
            }
        });

            // Logic for Bottom Navigation Menu Button
            // When the bottom menu button is clicked, it triggers a click on the original (now hidden) header menu button
            $('.menu-trigger-bottom').click(function(e) {
                e.preventDefault();
                $('.header-area .menu-trigger').trigger('click');
            });
            
            // ==============================================
            // FIX FOR HASH NAVIGATION FROM EXTERNAL PAGES
            // ==============================================
            
            // Function to scroll to hash with header offset
            function scrollToHashWithOffset() {
                if (window.location.hash) {
                    const hash = window.location.hash;
                    const target = $(hash);
                    
                    if (target.length) {
                        // Wait a bit for page to be fully ready
                        setTimeout(function() {
                            const headerHeight = $('.header-area').outerHeight();
                            const scrollPosition = target.offset().top - headerHeight;
                            
                            // Scroll to the position
                            $('html, body').animate({
                                scrollTop: scrollPosition
                            }, 0, 'easeInOutExpo');
                            
                            // Update URL to prevent browser default behavior
                            history.replaceState(null, null, window.location.pathname + hash);
                        }, 300); // 300ms delay to ensure everything is loaded
                    }
                }
            }
            
            // Run on page load
            scrollToHashWithOffset();
            
            // Also run after a short delay to catch any dynamic content
            setTimeout(scrollToHashWithOffset, 500);
            
            // Also run on window load (images and all assets)
            $(window).on('load', function() {
                setTimeout(scrollToHashWithOffset, 100);
            });
            
            // Fix all scroll-to-section links
            $('.scroll-to-section a[href*="#"]').on('click', function(e) {
                e.preventDefault();
                
                const hash = this.hash;
                if (hash) {
                    const target = $(hash);
                    if (target.length) {
                        const headerHeight = $('.header-area').outerHeight();
                        $('html, body').animate({
                            scrollTop: target.offset().top - headerHeight
                        }, 0, 'easeInOutExpo');
                        
                        // Update URL
                        window.location.hash = hash;
                    }
                }
            });
            
            // Fix for regular anchor links with hash
            $('a[href*="#"]:not([href="#"])').on('click', function(e) {
                // Check if it's a link to a section on the same page
                if (this.pathname === window.location.pathname || 
                    this.href.includes('index.html')) {
                    
                    const hash = this.hash;
                    if (hash) {
                        e.preventDefault();
                        
                        const target = $(hash);
                        if (target.length) {
                            const headerHeight = $('.header-area').outerHeight();
                            $('html, body').animate({
                                scrollTop: target.offset().top - headerHeight
                            }, 0, 'easeInOutExpo');
                            
                            // Update URL
                            window.location.hash = hash;
                        }
                    }
                }
            });
        });
        
        document.addEventListener('DOMContentLoaded', function() {
  const menuToggle = document.querySelector('.menu-toggle');
  const navMenu = document.querySelector('.nav-menu');
  const dropdownToggles = document.querySelectorAll('.dropdown-toggle');

  // Mobile menu toggle
  if (menuToggle) {
    menuToggle.addEventListener('click', function() {
        navMenu.classList.toggle('active');
    });
  }

  // Close mobile menu when clicking outside
  document.addEventListener('click', function(event) {
    if (!event.target.closest('.header') && !event.target.closest('.menu-toggle')) {
      if(navMenu) navMenu.classList.remove('active');
    }
  });

  // Fixed dropdown handling for mobile
  dropdownToggles.forEach(toggle => {
    toggle.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation(); // Prevents immediate closure
      
      const dropdown = this.nextElementSibling;
      const isActive = dropdown.classList.contains('active');
      
      // Close all dropdowns first
      document.querySelectorAll('.dropdown-menu').forEach(menu => {
        menu.classList.remove('active');
      });
      
      // Toggle current dropdown only if it wasn't already active
      if (!isActive) {
        dropdown.classList.add('active');
      }
    });
  });

  // Close dropdowns when clicking outside
  document.addEventListener('click', function(event) {
    if (!event.target.closest('.dropdown-toggle')) {
      document.querySelectorAll('.dropdown-menu').forEach(menu => {
        menu.classList.remove('active');
      });
    }
  });
});
    </script>

</body>
</html>